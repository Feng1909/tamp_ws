<!-- launch rhino real time experiment --> 

<launch>
    <!-- args -->
    <arg name="exp_config" default="rural_test_route_1_config.yaml"/>

    <!-- params -->
    <rosparam command="load" file="$(find common)/config/exp_config/$(arg exp_config)" />

    <!-- experiment manager node -->
    <node pkg="common" type="real_exp_manager.py" name="experiment_manager"  required="true" output="screen"/>

    <!-- planning & ctrl nodes -->
    <rosparam command="load" file="$(find saarti)/config/planning_and_ctrl_config.yaml" /> 
    <node pkg="saarti" type="saarti_node" name="saarti_node" /> 
    <node pkg="saarti" type="ctrl_interface.py" name="ctrl_interface"/> 

    <!-- logging -->
    <arg name="record_rosbag" default="true" />
	<node pkg="opendlv_ros" type="sens_msg_remap_node.py" name="sens_msg_remap"/>
    <node pkg="rosbag" name="rosbag_record_exp" type="record" if="$(arg record_rosbag )" output="screen"    
		args="record -O  $(find tamp_logs)/bags/real_exp/latest --duration=5m
			/OpenDLV/SensorMsgGPS_log
			/OpenDLV/SensorMsgCAN_log
			/pathglobal
			/pathglobal_vis
			/dlbglobal_vis
			/dubglobal_vis
			/origin_pose_utm
			/tf
			/tf_static
			/state_cart
			/state
			/pathlocal
			/pathlocal_vis
			/ctrl_mode
			/state_text_marker
			/obs
			/obs_vis
			/trajset_vis
			/posconstr_vis
			/trajhat
			/trajhat_vis
			/trajstar
			/trajstar_vis
			/trajstar_polarr_vis
			/saarti_status
			/lhpt_vis
			/OpenDLV/ActuationRequest
			/lars/ActuationRequest"> 
	</node>

</launch>


